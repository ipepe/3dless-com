THREE.STLBinaryExporter=function(){},THREE.STLBinaryExporter.prototype={constructor:THREE.STLBinaryExporter,parse:function(){var r=new THREE.Vector3,t=new THREE.Matrix3;return function(e){var a=[],o=0;e.traverse(function(r){if(r instanceof THREE.Mesh){var t=r.geometry;t instanceof THREE.BufferGeometry&&(t=(new THREE.Geometry).fromBufferGeometry(t)),t instanceof THREE.Geometry&&(o+=t.faces.length,a.push({geometry:t,matrix:r.matrixWorld}))}});var n=80,i=2*o+3*o*4*4+80+4,E=new ArrayBuffer(i),f=new DataView(E);return f.setUint32(n,o,!0),n+=4,a.forEach(function(e){var a=e.geometry.vertices,o=e.geometry.faces;t.getNormalMatrix(e.matrix);for(var i=0,E=o.length;i<E;i++){var s=o[i];r.copy(s.normal).applyMatrix3(t).normalize(),f.setFloat32(n,r.x,!0),n+=4,f.setFloat32(n,r.y,!0),n+=4,f.setFloat32(n,r.z,!0),n+=4;for(var y=[s.a,s.b,s.c],c=0;c<3;c++)r.copy(a[y[c]]).applyMatrix4(e.matrix),f.setFloat32(n,r.x,!0),n+=4,f.setFloat32(n,r.y,!0),n+=4,f.setFloat32(n,r.z,!0),n+=4;f.setUint16(n,0,!0),n+=2}}),f}}()};